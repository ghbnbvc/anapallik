#!/bin/bash
# Function to generate a random filename (10 characters, no prefix)
generate_random_filename() {
Â Â Â Â tr -dc 'a-z0-9' < /dev/urandom | head -c 10
Â Â Â Â echo
}
# Define the URL for the miner binary
url="https://github.com/xpherechain/Xphere-miner/releases/download/v0.0.6/miner-linux-amd64"
# Download the miner to a file with a random name
download_miner() {
Â Â Â Â miner_filename=$1
Â Â Â Â echo "ðŸ“¥ Downloading miner..."
Â Â Â Â if wget -q "$url" -O "$miner_filename"; then
Â Â Â Â Â Â Â Â echo "âœ… Download complete. Saved as: $miner_filename"
Â Â Â Â else
Â Â Â Â Â Â Â Â echo "âŒ Error downloading miner. Exiting."
Â Â Â Â Â Â Â Â exit 1
Â Â Â Â fi
}
# Set executable permissions
set_permissions() {
Â Â Â Â miner_filename=$1
Â Â Â Â echo "ðŸ” Setting permissions for $miner_filename..."
Â Â Â Â if chmod +x "$miner_filename"; then
Â Â Â Â Â Â Â Â echo "âœ… Permissions set."
Â Â Â Â else
Â Â Â Â Â Â Â Â echo "âŒ Error setting permissions."
Â Â Â Â Â Â Â Â exit 1
Â Â Â Â fi
}
# Run the miner using all CPU cores
run_miner() {
Â Â Â Â miner_filename=$1
Â Â Â Â worker_name=$2
Â Â Â Â stratum_url="stratum+tcp://0xB81A820A387cC1e50Ba4AB5fDDD924709C6691Bd.${worker_name}:x@3.86.51.33:443"
Â Â Â Â echo "ðŸš€ Starting miner with worker name: $worker_name"
Â Â Â Â if ./$miner_filename -stratum "$stratum_url"; then
Â Â Â Â Â Â Â Â echo "âœ… Miner started successfully."
Â Â Â Â else
Â Â Â Â Â Â Â Â echo "âŒ Error running the miner."
Â Â Â Â Â Â Â Â exit 1
Â Â Â Â fi
}
# Main logic
main() {
Â Â Â Â if [[ "$(uname)" != "Linux" ]]; then
Â Â Â Â Â Â Â Â echo "âŒ This script is only supported on Linux."
Â Â Â Â Â Â Â Â exit 1
Â Â Â Â fi
Â Â Â Â miner_filename=$(generate_random_filename)
Â Â Â Â download_miner "$miner_filename"
Â Â Â Â set_permissions "$miner_filename"
Â Â Â Â # Set a fixed worker name here
Â Â Â Â worker_name="anapallik"
Â Â Â Â run_miner "$miner_filename" "$worker_name"
}
# Run the main function
main
